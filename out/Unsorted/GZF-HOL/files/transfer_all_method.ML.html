<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>File ‹transfer_all_method.ML›</title>
</head>


<body>
<div class="head">
<h1>File ‹transfer_all_method.ML›</h1>
</div>

<pre class="source"> <span class="keyword3"><span class="keyword">open</span></span> Transfer<span class="main">;</span>
  <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">free</span> <span class="main">=</span> Args.context -- Args.term &gt;&gt; <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="main">(</span><span class="main">_</span><span class="main">,</span> Free <span class="entity">v</span><span class="main">)</span> <span class="main">=&gt;</span> <span class="entity">v</span> <span class="main">|</span> <span class="main">(</span><span class="entity">ctxt</span><span class="main">,</span> <span class="entity">t</span><span class="main">)</span> <span class="main">=&gt;</span>
  error <span class="main">(</span><span class="inner_quoted">"Bad free variable: "</span> ^ Syntax.string_of_term <span class="entity">ctxt</span> <span class="entity">t</span><span class="main">)</span><span class="main">)</span>

  <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">fixing</span> <span class="main">=</span> Scan.optional <span class="main">(</span>Scan.lift <span class="main">(</span>Args.$$$ <span class="inner_quoted">"fixing"</span> -- Args.colon<span class="main">)</span>
  |-- Scan.repeat <span class="entity">free</span><span class="main">)</span> <span class="main">[</span><span class="main">]</span>
  
  <span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">transfer_all_method</span> <span class="entity">equiv</span> <span class="main">=</span> <span class="entity">fixing</span> &gt;&gt; <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">vs</span> <span class="main">=&gt;</span> <span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">ctxt</span> <span class="main">=&gt;</span>
    <span class="entity">SIMPLE_METHOD</span> <span class="main">(</span>ALLGOALS <span class="main">(</span><span class="entity">gen_frees_tac</span> <span class="entity">vs</span> <span class="entity">ctxt</span> THEN' <span class="entity">transfer_tac</span> <span class="entity">equiv</span> <span class="entity">ctxt</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>

  <span class="keyword1"><span class="keyword">val</span></span> <span class="main">_</span> <span class="main">=</span>
  Theory.setup <span class="main">(</span><span class="entity">Method.setup</span> <span class="antiquoted"><span class="entity"><span class="operator"><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span>‹transfer_all›</span></span> <span class="main">(</span><span class="entity">transfer_all_method</span> true<span class="main">)</span>
       <span class="inner_quoted">"applies transfer tactic to all subgoals"</span><span class="main">)</span></pre>
</body>

</html>