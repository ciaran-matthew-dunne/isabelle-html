<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>File ‹translate_locale.ML›</title>
</head>


<body>
<div class="head">
<h1>File ‹translate_locale.ML›</h1>
</div>

<pre class="source">

<span class="comment1">(*We can use Isabelle's interpretation mechanism if we build the GZF locale
  on top of a quantifier locale,  but then we would have to port all of the
  HOL logic, and redefine blast, auto, simp, etc accordingly... *)</span>

<span class="keyword1"><span class="keyword">val</span></span> <span class="entity">add_variables</span> <span class="main">=</span> fold_aterms <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">a</span> <span class="main">=&gt;</span> <span class="main">(</span>is_Var <span class="entity">a</span> <span class="keyword1"><span class="keyword">orelse</span></span> is_Free <span class="entity">a</span><span class="main">)</span> ? insert <span class="main">(</span><span class="keyword1"><span class="keyword">op</span></span> <span class="main">=</span><span class="main">)</span> <span class="entity">a</span><span class="main">)</span><span class="main">;</span>
<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">variables_of</span> <span class="entity">t</span> <span class="main">=</span> rev <span class="main">(</span><span class="entity">add_variables</span> <span class="entity">t</span> <span class="main">[</span><span class="main">]</span><span class="main">)</span><span class="main">;</span>
<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">elem</span> <span class="entity">x</span> <span class="entity">xs</span> <span class="main">=</span> List.exists <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">y</span> <span class="main">=&gt;</span> <span class="entity">x</span> <span class="main">=</span> <span class="entity">y</span><span class="main">)</span> <span class="entity">xs</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">trans_conv</span> <span class="main">_</span> <span class="main">(</span>Const <span class="main">(</span><span class="inner_quoted">"HOL.All"</span><span class="main">,</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">typ</span> <span class="quoted">"<span class="main">(</span><span class="tfree">'d</span> <span class="main">⇒</span> bool<span class="main">)</span> <span class="main">⇒</span> bool"</span><span class="antiquote">}</span></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">term</span> <span class="quoted">mall</span><span class="antiquote">}</span></span>
  <span class="main">|</span> <span class="entity">trans_conv</span> <span class="main">_</span> <span class="main">(</span>Const <span class="main">(</span><span class="inner_quoted">"HOL.All"</span><span class="main">,</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">typ</span> <span class="quoted">"<span class="main">(</span><span class="main">(</span><span class="tfree">'d</span> <span class="main">⇒</span> <span class="tfree">'d</span><span class="main">)</span> <span class="main">⇒</span> bool<span class="main">)</span> <span class="main">⇒</span> bool"</span><span class="antiquote">}</span></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">term</span> <span class="quoted">fun_mall</span><span class="antiquote">}</span></span>
  <span class="main">|</span> <span class="entity">trans_conv</span> <span class="main">_</span> <span class="main">(</span>Const <span class="main">(</span><span class="inner_quoted">"HOL.All"</span><span class="main">,</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">typ</span> <span class="quoted">"<span class="main">(</span><span class="main">(</span><span class="tfree">'d</span> <span class="main">⇒</span> <span class="tfree">'d</span> <span class="main">⇒</span> <span class="tfree">'d</span><span class="main">)</span> <span class="main">⇒</span> bool<span class="main">)</span> <span class="main">⇒</span> bool"</span><span class="antiquote">}</span></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">term</span> <span class="quoted">binfun_mall</span><span class="antiquote">}</span></span>
  <span class="main">|</span> <span class="entity">trans_conv</span> <span class="main">_</span> <span class="main">(</span>Const <span class="main">(</span><span class="inner_quoted">"HOL.Ex"</span><span class="main">,</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">typ</span> <span class="quoted">"<span class="main">(</span><span class="tfree">'d</span> <span class="main">⇒</span> bool<span class="main">)</span> <span class="main">⇒</span> bool"</span><span class="antiquote">}</span></span><span class="main">)</span><span class="main">)</span>  <span class="main">=</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">term</span> <span class="quoted">mex</span><span class="antiquote">}</span></span>
  <span class="main">|</span> <span class="entity">trans_conv</span> <span class="main">_</span> <span class="main">(</span>Const <span class="main">(</span><span class="inner_quoted">"HOL.Uniq"</span><span class="main">,</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">typ</span> <span class="quoted">"<span class="main">(</span><span class="tfree">'d</span> <span class="main">⇒</span> bool<span class="main">)</span> <span class="main">⇒</span> bool"</span><span class="antiquote">}</span></span><span class="main">)</span><span class="main">)</span>  <span class="main">=</span> <span class="antiquoted"><span class="antiquote">@{</span><span class="operator">term</span> <span class="quoted">muniq</span><span class="antiquote">}</span></span>
  <span class="main">|</span> <span class="entity">trans_conv</span> <span class="main">_</span> <span class="main">(</span><span class="entity">c</span> <span class="keyword1"><span class="keyword">as</span></span> Const <span class="main">_</span><span class="main">)</span> <span class="main">=</span> <span class="entity">c</span>
  <span class="main">|</span> <span class="entity">trans_conv</span> <span class="entity">f</span> <span class="main">(</span><span class="entity">c</span> <span class="keyword1"><span class="keyword">as</span></span> Free <span class="main">_</span><span class="main">)</span> <span class="main">=</span> <span class="entity">f</span> <span class="entity">c</span>
  <span class="main">|</span> <span class="entity">trans_conv</span> <span class="main">_</span> <span class="entity">t</span> <span class="main">=</span> <span class="entity">t</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">trans</span> <span class="entity">f</span> <span class="entity">trm</span> <span class="main">=</span> map_aterms <span class="main">(</span><span class="entity">trans_conv</span> <span class="entity">f</span><span class="main">)</span> <span class="entity">trm</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">loc_consts</span> <span class="entity">ctxt</span> <span class="entity">loc_name</span> <span class="main">=</span> map <span class="main">(</span>Free o fst<span class="main">)</span> <span class="main">(</span><span class="entity">Locale.params_of</span> <span class="main">(</span>Proof_Context.theory_of <span class="entity">ctxt</span><span class="main">)</span> <span class="entity">loc_name</span><span class="main">)</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">loc_axs</span> <span class="entity">thy</span> <span class="entity">loc_name</span> <span class="main">=</span> <span class="keyword2"><span class="keyword">case</span></span> hd <span class="main">(</span><span class="entity">Locale.hyp_spec_of</span> <span class="entity">thy</span> <span class="entity">loc_name</span><span class="main">)</span> <span class="keyword2"><span class="keyword">of</span></span>
   <span class="entity">Element.Assumes</span> <span class="entity">xs</span> <span class="main">=&gt;</span> map <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="main">(</span><span class="entity">a</span><span class="main">,</span><span class="entity">b</span><span class="main">)</span> <span class="main">=&gt;</span> <span class="main">(</span>fst <span class="entity">a</span><span class="main">,</span> fst <span class="main">(</span>hd <span class="entity">b</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="entity">xs</span>
 <span class="main">|</span> <span class="main">_</span> <span class="main">=&gt;</span> error <span class="main">(</span><span class="inner_quoted">"Problem with applying hyp_spec_of to:"</span> ^ <span class="entity">loc_name</span><span class="main">)</span> 

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">find_locale_name</span> <span class="entity">ctxt</span> <span class="entity">str</span> <span class="main">=</span> 
       <span class="keyword2"><span class="keyword">case</span></span> Syntax.read_term <span class="entity">ctxt</span> <span class="entity">str</span> <span class="keyword2"><span class="keyword">of</span></span>
          Const <span class="main">(</span><span class="entity">name</span><span class="main">,</span><span class="main">_</span><span class="main">)</span> <span class="main">=&gt;</span> <span class="entity">name</span>
        <span class="main">|</span> <span class="main">_</span> <span class="main">=&gt;</span> error <span class="main">(</span><span class="inner_quoted">"Can't find locale: "</span> ^ <span class="entity">str</span><span class="main">)</span>

<span class="keyword1"><span class="keyword">datatype</span></span> <span class="entity">model_sig</span> <span class="main">=</span> <span class="entity">msig</span> <span class="keyword2"><span class="keyword">of</span></span> 
  <span class="main">{</span>name <span class="main">:</span> string<span class="main">,</span> target<span class="main">:</span> string<span class="main">,</span> 
   sigmap <span class="main">:</span> string <span class="main">-&gt;</span> string<span class="main">}</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">name_of</span> <span class="main">(</span>Free <span class="main">(</span><span class="entity">n</span><span class="main">,</span><span class="main">_</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="entity">n</span>
  <span class="main">|</span> <span class="entity">name_of</span> <span class="main">(</span>Const <span class="main">(</span><span class="entity">n</span><span class="main">,</span><span class="main">_</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="entity">n</span>
  <span class="main">|</span> <span class="entity">name_of</span> <span class="main">_</span> <span class="main">=</span> error <span class="inner_quoted">"not a free or const"</span>  

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">loc_cnames</span> <span class="entity">ctxt</span> <span class="entity">lname</span> <span class="main">=</span>  map <span class="entity">name_of</span> <span class="main">(</span><span class="entity">loc_consts</span> <span class="entity">ctxt</span> <span class="entity">lname</span><span class="main">)</span>
<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">mk_fun</span> <span class="entity">dom</span> <span class="entity">ran</span> <span class="entity">c</span> <span class="main">=</span> 
  <span class="keyword2"><span class="keyword">case</span></span> List.find <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="main">(</span><span class="entity">x</span><span class="main">,</span><span class="main">_</span><span class="main">)</span> <span class="main">=&gt;</span> <span class="entity">x</span> <span class="main">=</span> <span class="entity">c</span><span class="main">)</span> <span class="main">(</span>ListPair.zip <span class="main">(</span><span class="entity">dom</span><span class="main">,</span><span class="entity">ran</span><span class="main">)</span><span class="main">)</span> <span class="keyword2"><span class="keyword">of</span></span>
    SOME <span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="entity">y</span><span class="main">)</span> <span class="main">=&gt;</span> <span class="entity">y</span>
  <span class="main">|</span> NONE   <span class="main">=&gt;</span> <span class="entity">c</span>  

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">mk_msig</span> <span class="entity">str</span> <span class="entity">loc</span> <span class="entity">tstrs</span> <span class="entity">ctxt</span>  <span class="main">=</span> <span class="keyword2"><span class="keyword">let</span></span> 
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">lname</span> <span class="main">=</span> <span class="entity">find_locale_name</span> <span class="entity">ctxt</span> <span class="entity">loc</span> 
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">lcon_names</span> <span class="main">=</span> <span class="entity">loc_cnames</span> <span class="entity">ctxt</span> <span class="entity">lname</span>
  <span class="keyword2"><span class="keyword">in</span></span> 
    <span class="entity">msig</span> <span class="main">{</span>name <span class="main">=</span> <span class="entity">str</span><span class="main">,</span> target <span class="main">=</span> <span class="entity">lname</span><span class="main">,</span>
          sigmap <span class="main">=</span> <span class="entity">mk_fun</span> <span class="entity">lcon_names</span> <span class="entity">tstrs</span><span class="main">}</span>
  <span class="keyword2"><span class="keyword">end</span></span><span class="main">;</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">get_lconsts</span> <span class="entity">mdl</span> <span class="entity">ctxt</span> <span class="main">=</span> <span class="keyword2"><span class="keyword">let</span></span>
  <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">msig</span> <span class="main">{</span><span class="entity">target</span><span class="main">,</span> <span class="entity">sigmap</span><span class="main">,</span><span class="main">...</span><span class="main">}</span> <span class="main">=</span> <span class="entity">mdl</span> 
  <span class="keyword2"><span class="keyword">in</span></span> map <span class="main">(</span>Syntax.read_term <span class="entity">ctxt</span><span class="main">)</span> <span class="main">(</span><span class="entity">loc_cnames</span> <span class="entity">ctxt</span> <span class="entity">target</span><span class="main">)</span> <span class="keyword2"><span class="keyword">end</span></span><span class="main">;</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">get_mconsts</span> <span class="entity">mdl</span> <span class="entity">ctxt</span> <span class="main">=</span> <span class="keyword2"><span class="keyword">let</span></span>
  <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">msig</span> <span class="main">{</span><span class="entity">target</span><span class="main">,</span> <span class="entity">sigmap</span><span class="main">,</span><span class="main">...</span><span class="main">}</span> <span class="main">=</span> <span class="entity">mdl</span> 
  <span class="keyword2"><span class="keyword">in</span></span> map <span class="main">(</span>Syntax.read_term <span class="entity">ctxt</span> o <span class="entity">sigmap</span><span class="main">)</span> <span class="main">(</span><span class="entity">loc_cnames</span> <span class="entity">ctxt</span> <span class="entity">target</span><span class="main">)</span> <span class="keyword2"><span class="keyword">end</span></span><span class="main">;</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">app_sigmap</span> <span class="entity">f</span> <span class="entity">ctxt</span> <span class="entity">c</span> <span class="main">=</span> Syntax.read_term <span class="entity">ctxt</span> <span class="main">(</span><span class="entity">f</span> <span class="main">(</span><span class="entity">name_of</span> <span class="entity">c</span><span class="main">)</span><span class="main">)</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">extend_msig</span> <span class="entity">m1</span> <span class="entity">str</span> <span class="entity">loc</span> <span class="entity">tstrs</span> <span class="entity">ctxt</span> <span class="main">=</span> <span class="keyword2"><span class="keyword">let</span></span> 
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">msig</span> <span class="main">{</span>target <span class="main">=</span> <span class="entity">l1name</span><span class="main">,</span> sigmap <span class="main">=</span> <span class="entity">smap</span><span class="main">,</span> <span class="main">...</span><span class="main">}</span> <span class="main">=</span> <span class="entity">m1</span>  
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">l2name</span> <span class="main">=</span> <span class="entity">find_locale_name</span> <span class="entity">ctxt</span> <span class="entity">loc</span> 
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">l1consts</span> <span class="main">=</span> <span class="entity">loc_cnames</span> <span class="entity">ctxt</span> <span class="entity">l1name</span>
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">l2consts</span> <span class="main">=</span> <span class="entity">loc_cnames</span> <span class="entity">ctxt</span> <span class="entity">l2name</span>
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">smap_ex</span> <span class="main">=</span> filter <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">c</span> <span class="main">=&gt;</span> not <span class="main">(</span><span class="entity">elem</span> <span class="entity">c</span> <span class="entity">l1consts</span><span class="main">)</span><span class="main">)</span> <span class="entity">l2consts</span>  
  <span class="keyword2"><span class="keyword">in</span></span>
    <span class="entity">msig</span> <span class="main">{</span>name <span class="main">=</span> <span class="entity">str</span><span class="main">,</span> target <span class="main">=</span> <span class="entity">l2name</span><span class="main">,</span>
          sigmap <span class="main">=</span> <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">c</span> <span class="main">=&gt;</span> 
            <span class="keyword2"><span class="keyword">if</span></span> <span class="entity">smap</span> <span class="entity">c</span> <span class="main">=</span> <span class="entity">c</span> 
            <span class="keyword2"><span class="keyword">then</span></span> <span class="entity">mk_fun</span> <span class="entity">smap_ex</span> <span class="entity">tstrs</span> <span class="entity">c</span> 
            <span class="keyword2"><span class="keyword">else</span></span> <span class="entity">smap</span> <span class="entity">c</span><span class="main">)</span><span class="main">}</span>
  <span class="keyword2"><span class="keyword">end</span></span>
    
<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">gen_goals</span> <span class="entity">ctxt</span> <span class="entity">lname</span> <span class="entity">smap</span> <span class="main">=</span>
  <span class="keyword2"><span class="keyword">let</span></span>
      <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">thy</span> <span class="main">=</span> Proof_Context.theory_of <span class="entity">ctxt</span>
      <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">axs</span> <span class="main">=</span> map snd <span class="main">(</span><span class="entity">loc_axs</span> <span class="entity">thy</span> <span class="entity">lname</span><span class="main">)</span>
      <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">f</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">c</span> <span class="main">=&gt;</span> <span class="main">(</span>Syntax.read_term <span class="entity">ctxt</span> <span class="main">(</span><span class="entity">smap</span> <span class="main">(</span><span class="entity">name_of</span> <span class="entity">c</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">in</span></span>
   map <span class="main">(</span><span class="entity">trans</span> <span class="entity">f</span><span class="main">)</span> <span class="entity">axs</span>
  <span class="keyword2"><span class="keyword">end</span></span>


<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">after_qed</span> <span class="entity">thm_name</span> <span class="entity">thms</span> <span class="entity">lthy</span> <span class="main">=</span>
      Local_Theory.note <span class="main">(</span><span class="entity">thm_name</span><span class="main">,</span> <span class="main">(</span>flat <span class="entity">thms</span><span class="main">)</span><span class="main">)</span> <span class="entity">lthy</span> |&gt; snd

<span class="keyword1"><span class="keyword">structure</span></span> <span class="entity">Result</span> <span class="main">=</span> Proof_Data
  <span class="main">(</span><span class="keyword1"><span class="keyword">type</span></span> <span class="entity">T</span> <span class="main">=</span> unit <span class="main">-&gt;</span> <span class="entity">model_sig</span>
   <span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">init</span> <span class="main">_</span> <span class="main">(</span><span class="main">)</span> <span class="main">=</span> error <span class="inner_quoted">"Result"</span><span class="main">)</span>

<span class="keyword1"><span class="keyword">val</span></span> <span class="entity">result_cookie</span> <span class="main">=</span> <span class="main">(</span>Result.get<span class="main">,</span> Result.put<span class="main">,</span> <span class="inner_quoted">"Result.put"</span><span class="main">)</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">src_to_model</span> <span class="entity">src</span> <span class="entity">ctxt</span> <span class="main">=</span> <span class="keyword2"><span class="keyword">let</span></span>
    <span class="keyword1"><span class="keyword">val</span></span> <span class="main">(</span><span class="entity">text</span><span class="main">,</span> <span class="main">_</span><span class="main">)</span> <span class="main">=</span> Input.source_content <span class="entity">src</span>
    <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">model</span> <span class="main">=</span> <span class="entity">Code_Runtime.value</span> <span class="entity">ctxt</span> <span class="entity">result_cookie</span> <span class="main">(</span><span class="inner_quoted">""</span><span class="main">,</span> <span class="entity">text</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">in</span></span> <span class="entity">model</span> <span class="keyword2"><span class="keyword">end</span></span><span class="main">;</span>

<span class="keyword1"><span class="keyword">fun</span></span> <span class="entity">model_interp_cmd</span> <span class="main">(</span><span class="entity">thm_name</span><span class="main">,</span><span class="entity">src</span><span class="main">)</span> <span class="entity">ctxt</span> <span class="main">=</span> <span class="keyword2"><span class="keyword">let</span></span>
      <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">msig</span> <span class="main">{</span><span class="entity">name</span><span class="main">,</span> <span class="entity">target</span><span class="main">,</span> <span class="entity">sigmap</span><span class="main">}</span> <span class="main">=</span> <span class="entity">src_to_model</span> <span class="entity">src</span> <span class="entity">ctxt</span>
      <span class="keyword1"><span class="keyword">val</span></span> <span class="entity">goals</span> <span class="main">=</span> <span class="entity">gen_goals</span> <span class="entity">ctxt</span> <span class="entity">target</span> <span class="entity">sigmap</span> 
    <span class="keyword2"><span class="keyword">in</span></span> 
      <span class="entity">Proof.theorem</span> NONE <span class="main">(</span><span class="entity">after_qed</span> <span class="entity">thm_name</span><span class="main">)</span> <span class="main">[</span>map <span class="main">(</span><span class="keyword1"><span class="keyword">fn</span></span> <span class="entity">t</span> <span class="main">=&gt;</span> <span class="main">(</span><span class="entity">t</span><span class="main">,</span><span class="main">[</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="entity">goals</span><span class="main">]</span> <span class="entity">ctxt</span> 
    <span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="keyword">val</span></span> <span class="entity">mGZF</span> <span class="main">=</span> <span class="entity">mk_msig</span> <span class="inner_quoted">"mGZF"</span> <span class="inner_quoted">"GZF"</span> 
      <span class="main">[</span><span class="inner_quoted">"mMem"</span><span class="main">,</span> <span class="inner_quoted">"mEmp"</span><span class="main">,</span> <span class="inner_quoted">"mSet"</span><span class="main">,</span> <span class="inner_quoted">"mUnion"</span><span class="main">,</span> 
       <span class="inner_quoted">"mSubset"</span><span class="main">,</span> <span class="inner_quoted">"mPow"</span><span class="main">,</span> <span class="inner_quoted">"mSucc"</span><span class="main">,</span> <span class="inner_quoted">"mInf"</span><span class="main">,</span> <span class="inner_quoted">"mRepl"</span><span class="main">]</span> <span class="antiquoted"><span class="entity"><span class="antiquote">@{</span><span class="operator">context</span><span class="antiquote">}</span></span></span>

<span class="keyword1"><span class="keyword">val</span></span> <span class="entity">mOrd</span> <span class="main">=</span> <span class="entity">extend_msig</span> <span class="entity">mGZF</span> <span class="inner_quoted">"mOrd"</span> <span class="inner_quoted">"Ord_locale.Ord"</span> 
       <span class="main">[</span><span class="inner_quoted">"mOrd"</span><span class="main">,</span> <span class="inner_quoted">"mlt"</span><span class="main">,</span><span class="inner_quoted">"mzero"</span><span class="main">,</span> <span class="inner_quoted">"msucc"</span><span class="main">,</span> <span class="inner_quoted">"mLimit"</span><span class="main">,</span> <span class="inner_quoted">"mpredSet"</span><span class="main">,</span> <span class="inner_quoted">"mOrdRec"</span><span class="main">,</span> <span class="inner_quoted">"momega"</span><span class="main">]</span> <span class="antiquoted"><span class="entity"><span class="antiquote">@{</span><span class="operator">context</span><span class="antiquote">}</span></span></span>

<span class="keyword1"><span class="keyword">val</span></span> <span class="main">_</span> <span class="main">=</span> <span class="entity">Outer_Syntax.local_theory_to_proof</span> <span class="antiquoted"><span class="entity"><span class="antiquote">@{</span><span class="operator">command_keyword</span> "<span class="keyword1">model_interpretation</span>"<span class="antiquote">}</span></span></span>
        <span class="inner_quoted">"sets up proof state for the translation of each axiom of a locale"</span> 
        <span class="main">(</span><span class="entity">Parse_Spec.opt_thm_name</span> <span class="inner_quoted">":"</span> -- Parse.ML_source &gt;&gt; <span class="entity">model_interp_cmd</span><span class="main">)</span>
</pre>
</body>

</html>